# Ticker Metadata for Watchlist
# =========================================================================
# Fetches company metadata for tickers specified in config.variables
#
# WORKFLOW:
# 1. Fetch Metadata: Get company metadata for each ticker in variables
#
# OUTPUT TAG: ticker-metadata-output
# =========================================================================

# =========================================================================
# Job Definition (MUST be at root level before any [section])
# =========================================================================
id = "ticker-metadata-watchlist"
name = "Ticker Metadata (Watchlist)"
type = "orchestrator"
description = "Fetch company metadata for watchlist tickers"
tags = ["ticker-metadata", "watchlist"]
schedule = ""
timeout = "5m"
enabled = true
auto_start = false

# =========================================================================
# META (documentation only, not parsed)
# =========================================================================
[meta]
author = "Claude Code"
version = "1.0"
created = "2026-01-20"
updated = "2026-01-20"
purpose = "Fetch metadata for watchlist tickers"

# =========================================================================
# User Configuration
# =========================================================================
[config]
# Ticker list - add/remove as needed
variables = [
    { ticker = "ASX:GNP" },
    { ticker = "ASX:CGS" },
]

# =========================================================================
# Step 1: Fetch Metadata
# =========================================================================
[step.fetch_metadata]
type = "ticker_metadata"
description = "Fetch company metadata for watchlist tickers"
on_error = "continue"
cache_hours = 168
output_tags = ["ticker-metadata-output"]
