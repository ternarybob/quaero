<!DOCTYPE html>
<html lang="en">

<head>
    {{template "head.html" .}}
    <title>Settings - Quaero</title>
    <!-- Load settings components BEFORE Alpine.js (no defer) -->
    <script src="/static/settings-components.js"></script>
</head>

<body>

    {{template "navbar.html" .}}

    <main class="container">

        <!-- Page Title -->
        <div class="page-title">
            <h1>Settings</h1>
            <p>System configuration, status, and operational controls</p>
        </div>

        <!-- Settings Layout: Standard Spectre Grid -->
        <div x-data="settingsNavigation" class="container">
            <div class="columns">

                <!-- Left Sidebar: Standard Spectre Nav (Auto-sized) -->
                <div class="column col-2 menu-sidebar">
                    <ul class="nav">
                        <li class="nav-item" :class="{ 'active': activeSection === 'kv' }">
                            <a href="#" @click.prevent="selectSection('kv')">
                                <i class="icon icon-people"></i>
                                Key Values
                            </a>
                        </li>
                        <li class="nav-item" :class="{ 'active': activeSection === 'auth-cookies' }">
                            <a href="#" @click.prevent="selectSection('auth-cookies')">
                                <i class="icon icon-people"></i>
                                Authentication
                            </a>
                        </li>
                        <li class="nav-item" :class="{ 'active': activeSection === 'connectors' }">
                            <a href="#" @click.prevent="selectSection('connectors')">
                                <i class="icon icon-link"></i>
                                Connectors
                            </a>
                        </li>
                        <li class="nav-item" :class="{ 'active': activeSection === 'config' }">
                            <a href="#" @click.prevent="selectSection('config')">
                                <i class="icon icon-apps"></i>
                                Configuration
                            </a>
                        </li>
                        <li class="nav-item" :class="{ 'active': activeSection === 'status' }">
                            <a href="#" @click.prevent="selectSection('status')">
                                <i class="icon icon-check"></i>
                                Status
                            </a>
                        </li>
                        <li class="nav-item" :class="{ 'active': activeSection === 'logs' }">
                            <a href="#" @click.prevent="selectSection('logs')">
                                <i class="icon icon-menu"></i>
                                System Logs
                            </a>
                        </li>
                        <li class="nav-item" :class="{ 'active': activeSection === 'danger' }">
                            <a href="#" @click.prevent="selectSection('danger')">
                                <i class="icon icon-stop"></i>
                                Danger Zone
                            </a>
                        </li>
                    </ul>
                </div>

                <!-- Right Content Panel: Dynamic Content -->
                <div class="column col-10">
                    <!-- Loading State -->
                    <div x-show="loading[activeSection]" class="text-center loading-state">
                        <div class="loading loading-lg"></div>
                        <p style="margin-top: 1rem;" x-text="'Loading ' + activeSection.replace('-', ' ') + '...'"></p>
                    </div>

                    <!-- Dynamic Content -->
                    <div x-show="!loading[activeSection]" x-html="content[activeSection]"></div>
                </div>

            </div>
        </div>

        <!-- Service Logs -->
        <section style="margin-top: 1.5rem;">
            {{template "service-logs.html" .}}
        </section>

    </main>

    {{template "footer.html" .}}

    {{template "snackbar.html" .}}
</body>

</html>