<!DOCTYPE html>
<html lang="en">

<head>
    {{template "head.html" .}}
    <title>Settings - Quaero</title>
</head>

<body>

    {{template "navbar.html" .}}

    <main class="page-container">

        <!-- Page Title -->
        <div class="page-title">
            <h1>Settings</h1>
            <p>System configuration, status, and operational controls</p>
        </div>

        <!-- Settings Accordion (Dynamic Loading) -->
        <div x-data="settingsAccordion" class="accordion">

            <!-- API Keys Accordion -->
            <div class="accordion-item">
                <input type="checkbox" id="accordion-auth-apikeys" name="accordion-checkbox" hidden @change="loadContent('auth-apikeys', '/settings/auth-apikeys.html', $event.target.checked)">
                <label for="accordion-auth-apikeys" class="accordion-header">
                    <i class="icon icon-arrow-right mr-1"></i>API Keys
                </label>
                <div class="accordion-body">
                    <div x-show="loading['auth-apikeys']" class="text-center" style="padding: 2rem;">
                        <div class="loading loading-lg"></div>
                        <p style="margin-top: 1rem;">Loading API keys...</p>
                    </div>
                    <div x-show="!loading['auth-apikeys']" x-html="content['auth-apikeys']"></div>
                </div>
            </div>

            <!-- Authentication Cookies Accordion -->
            <div class="accordion-item">
                <input type="checkbox" id="accordion-auth-cookies" name="accordion-checkbox" hidden @change="loadContent('auth-cookies', '/settings/auth-cookies.html', $event.target.checked)">
                <label for="accordion-auth-cookies" class="accordion-header">
                    <i class="icon icon-arrow-right mr-1"></i>Authentication
                </label>
                <div class="accordion-body">
                    <div x-show="loading['auth-cookies']" class="text-center" style="padding: 2rem;">
                        <div class="loading loading-lg"></div>
                        <p style="margin-top: 1rem;">Loading authentication...</p>
                    </div>
                    <div x-show="!loading['auth-cookies']" x-html="content['auth-cookies']"></div>
                </div>
            </div>

            <!-- Configuration Accordion -->
            <div class="accordion-item">
                <input type="checkbox" id="accordion-config" name="accordion-checkbox" hidden @change="loadContent('config', '/settings/config.html', $event.target.checked)">
                <label for="accordion-config" class="accordion-header">
                    <i class="icon icon-arrow-right mr-1"></i>Configuration
                </label>
                <div class="accordion-body">
                    <div x-show="loading['config']" class="text-center" style="padding: 2rem;">
                        <div class="loading loading-lg"></div>
                        <p style="margin-top: 1rem;">Loading configuration...</p>
                    </div>
                    <div x-show="!loading['config']" x-html="content['config']"></div>
                </div>
            </div>

            <!-- Danger Zone Accordion -->
            <div class="accordion-item">
                <input type="checkbox" id="accordion-danger" name="accordion-checkbox" hidden @change="loadContent('danger', '/settings/danger.html', $event.target.checked)">
                <label for="accordion-danger" class="accordion-header">
                    <i class="icon icon-arrow-right mr-1"></i>Danger Zone
                </label>
                <div class="accordion-body">
                    <div x-show="loading['danger']" class="text-center" style="padding: 2rem;">
                        <div class="loading loading-lg"></div>
                        <p style="margin-top: 1rem;">Loading danger zone...</p>
                    </div>
                    <div x-show="!loading['danger']" x-html="content['danger']"></div>
                </div>
            </div>

            <!-- Service Status Accordion -->
            <div class="accordion-item">
                <input type="checkbox" id="accordion-status" name="accordion-checkbox" hidden @change="loadContent('status', '/settings/status.html', $event.target.checked)">
                <label for="accordion-status" class="accordion-header">
                    <i class="icon icon-arrow-right mr-1"></i>Service Status
                </label>
                <div class="accordion-body">
                    <div x-show="loading['status']" class="text-center" style="padding: 2rem;">
                        <div class="loading loading-lg"></div>
                        <p style="margin-top: 1rem;">Loading service status...</p>
                    </div>
                    <div x-show="!loading['status']" x-html="content['status']"></div>
                </div>
            </div>

        </div>

        <!-- Service Logs -->
        <section style="margin-top: 1.5rem;">
            {{template "service-logs.html" .}}
        </section>

    </main>

    {{template "footer.html" .}}

    {{template "snackbar.html" .}}

    <script src="/static/settings-components.js"></script>
</body>

</html>