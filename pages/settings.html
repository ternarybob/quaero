<!DOCTYPE html>
<html lang="en">

<head>
    {{template "head.html" .}}
    <title>Settings - Quaero</title>
</head>

<body>

    {{template "navbar.html" .}}

    <main class="page-container">

        <!-- Page Title -->
        <div class="page-title">
            <h1>Settings</h1>
            <p>System configuration, status, and operational controls</p>
        </div>

        <!-- Settings Accordion (Dynamic Loading) -->
        <section x-data="settingsAccordion">

            <!-- API Keys Accordion -->
            <div class="accordion-item">
                <input type="checkbox" id="accordion-auth-apikeys" class="accordion-checkbox" @change="loadContent('auth-apikeys', '/partials/settings-auth-apikeys.html', $event.target.checked)">
                <label for="accordion-auth-apikeys" class="accordion-header">
                    <i class="fas fa-key"></i>
                    <span>API Keys</span>
                </label>
                <div class="accordion-body">
                    <div x-show="loading['auth-apikeys']" class="text-center p-5">
                        <span class="icon">
                            <i class="fas fa-spinner fa-pulse fa-2x"></i>
                        </span>
                        <p class="mt-3">Loading API keys...</p>
                    </div>
                    <div x-show="!loading['auth-apikeys']" x-html="content['auth-apikeys']"></div>
                </div>
            </div>

            <!-- Authentication Cookies Accordion -->
            <div class="accordion-item">
                <input type="checkbox" id="accordion-auth-cookies" class="accordion-checkbox" @change="loadContent('auth-cookies', '/partials/settings-auth-cookies.html', $event.target.checked)">
                <label for="accordion-auth-cookies" class="accordion-header">
                    <i class="fas fa-lock"></i>
                    <span>Authentication</span>
                </label>
                <div class="accordion-body">
                    <div x-show="loading['auth-cookies']" class="text-center p-5">
                        <span class="icon">
                            <i class="fas fa-spinner fa-pulse fa-2x"></i>
                        </span>
                        <p class="mt-3">Loading authentication...</p>
                    </div>
                    <div x-show="!loading['auth-cookies']" x-html="content['auth-cookies']"></div>
                </div>
            </div>

            <!-- Configuration Accordion -->
            <div class="accordion-item">
                <input type="checkbox" id="accordion-config" class="accordion-checkbox" @change="loadContent('config', '/partials/settings-config.html', $event.target.checked)">
                <label for="accordion-config" class="accordion-header">
                    <i class="fas fa-cog"></i>
                    <span>Configuration</span>
                </label>
                <div class="accordion-body">
                    <div x-show="loading['config']" class="text-center p-5">
                        <span class="icon">
                            <i class="fas fa-spinner fa-pulse fa-2x"></i>
                        </span>
                        <p class="mt-3">Loading configuration...</p>
                    </div>
                    <div x-show="!loading['config']" x-html="content['config']"></div>
                </div>
            </div>

            <!-- Danger Zone Accordion -->
            <div class="accordion-item">
                <input type="checkbox" id="accordion-danger" class="accordion-checkbox" @change="loadContent('danger', '/partials/settings-danger.html', $event.target.checked)">
                <label for="accordion-danger" class="accordion-header">
                    <i class="fas fa-exclamation-triangle"></i>
                    <span>Danger Zone</span>
                </label>
                <div class="accordion-body">
                    <div x-show="loading['danger']" class="text-center p-5">
                        <span class="icon">
                            <i class="fas fa-spinner fa-pulse fa-2x"></i>
                        </span>
                        <p class="mt-3">Loading danger zone...</p>
                    </div>
                    <div x-show="!loading['danger']" x-html="content['danger']"></div>
                </div>
            </div>

            <!-- Service Status Accordion -->
            <div class="accordion-item">
                <input type="checkbox" id="accordion-status" class="accordion-checkbox" @change="loadContent('status', '/partials/settings-status.html', $event.target.checked)">
                <label for="accordion-status" class="accordion-header">
                    <i class="fas fa-server"></i>
                    <span>Service Status</span>
                </label>
                <div class="accordion-body">
                    <div x-show="loading['status']" class="text-center p-5">
                        <span class="icon">
                            <i class="fas fa-spinner fa-pulse fa-2x"></i>
                        </span>
                        <p class="mt-3">Loading service status...</p>
                    </div>
                    <div x-show="!loading['status']" x-html="content['status']"></div>
                </div>
            </div>

        </section>

        <!-- Service Logs -->
        <section style="margin-top: 1.5rem;">
            {{template "service-logs.html" .}}
        </section>

    </main>

    {{template "footer.html" .}}

    {{template "snackbar.html" .}}

    <script src="/static/settings-components.js"></script>
</body>

</html>