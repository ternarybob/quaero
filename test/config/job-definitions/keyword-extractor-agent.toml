# ============================================================================
# Keyword Extraction Agent Job Definition
# ============================================================================
# This job definition demonstrates how to use the Google Gemini-powered
# agent framework to extract keywords from documents.
#
# The agent analyzes document content and identifies semantically relevant
# keywords with confidence scores, storing results in Document.Metadata.
#
# Prerequisites:
#   - Valid Google API key configured (QUAERO_AGENT_GOOGLE_API_KEY)
#   - Documents crawled and stored in the database
#
# Job Flow:
#   1. Query documents by source type
#   2. For each document, create an agent job
#   3. Agent analyzes content and extracts keywords
#   4. Results stored in Document.Metadata["keyword_extractor"]
# ============================================================================

# Job metadata
id = "keyword-extractor-agent"
name = "Keyword Extraction"
type = "agent"
description = "Extracts keywords from crawled documents using Google Gemini"
enabled = true
auto_start = true
tags = ["agent", "keyword-extraction", "nlp"]

# ============================================================================
# Job Steps - New format: [step.{name}]
# ============================================================================

[step.extract_keywords]
type = "agent"
description = "Extract keywords from documents using Google Gemini AI"
agent_type = "keyword_extractor"
api_key = "{google_gemini_api_key}"
filter_limit = 100
