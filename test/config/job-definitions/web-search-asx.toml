# Web Search ASX:GNP Job Definition
# Simple 3-step job for UI testing: web search -> summarize -> email

id = "web-search-asx-gnp"
name = "Web Search: ASX:GNP Company Info"
type = "web_search"
description = "Search for ASX:GNP company information and email summary"
tags = ["web-search", "asx", "stocks", "gnp"]
schedule = ""
timeout = "10m"
enabled = true
auto_start = false

# Step 1: Web search for ASX:GNP company info
[step.search_asx_gnp]
type = "web_search"
description = "Search for ASX:GNP company information"
on_error = "fail"
api_key = "{google_gemini_api_key}"
query = "ASX:GNP GenusPlus Group company information 2025"
output_tags = ["gnp", "asx-gnp-search"]
depth = 2
breadth = 2

# Step 2: Summarize the search results
[step.summarize_results]
type = "summary"
description = "Summarize search results about ASX:GNP"
depends = "search_asx_gnp"
on_error = "fail"
filter_tags = ["gnp"]
api_key = "{google_gemini_api_key}"
prompt = """Summarize the collected information about ASX:GNP (GenusPlus Group Ltd).
Include: company overview, recent news, and key business activities.
Keep the summary concise (2-3 paragraphs)."""
output_tags = ["asx-gnp-summary"]

# Step 3: Email the summary
[step.email_summary]
type = "email"
description = "Email the ASX:GNP summary"
depends = "summarize_results"
on_error = "fail"
to = "{email_recipient}"
subject = "ASX:GNP Company Summary"
body_from_tag = "asx-gnp-summary"
