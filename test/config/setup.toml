# =============================================================================
# Test Harness Configuration (Shared across all tests)
# =============================================================================
# This file contains test infrastructure settings (build, service lifecycle, output).
# Service runtime config (ports, database, LLM mode) is in separate service-*.toml files.
#
# Usage:
#   - Default: SetupTestEnvironment("TestName") uses service-default.toml
#   - Custom:  SetupTestEnvironment("TestName", "../config/service-no-ai.toml")
# =============================================================================

[build]
# Source directory for main.go (relative to test/ui or test/api)
source_dir = "../../cmd/quaero"
# Binary output path - platform extension added automatically
# Outputs to shared test/bin/ directory
binary_output = "../bin/quaero"
# Config file for the test service - copied from service config during build
config_file = "../bin/quaero.toml"
# Version file path (relative to test/ui or test/api)
version_file = "../../.version"

[service]
# Startup timeout in seconds
startup_timeout_seconds = 30
# Server port - will be overridden by code (18085 for UI, 19085 for API)
# Default port for UI tests (isolated from dev server on 8085)
port = 18085
# Server host
host = "localhost"
# Shutdown endpoint
shutdown_endpoint = "/api/shutdown"

[output]
# Base directory for test results (relative to test/ui or test/api directory)
# Structure: ../../test/results/{ui|api}/{suite-name}-{datetime}/{test-name}/
# Example UI: ../../test/results/ui/jobs-20251112-150754/TestJobsAgentDisabled/
# Example API: ../../test/results/api/job-20251112-150754/TestJobAPI/
results_base_dir = "../../test/results"
